<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Malla Curricular Interactiva - Enfermería</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #fff0f5;
            margin: 0;
            padding: 0;
        }
        h1 {
            text-align: center;
            color: #d63384;
            margin: 20px 0;
        }
        .malla {
            display: flex;
            flex-wrap: nowrap;
            overflow-x: auto;
            padding: 20px;
        }
        .semestre {
            background-color: #ffe0ef;
            border: 2px solid #d63384;
            border-radius: 10px;
            padding: 10px;
            margin-right: 10px;
            min-width: 250px;
            flex-shrink: 0;
        }
        .ramo {
            background-color: white;
            border: 1px solid #d63384;
            border-radius: 5px;
            margin: 5px 0;
            padding: 5px;
            cursor: pointer;
        }
        .ramo.aprobado {
            background-color: #ffc0cb;
            text-decoration: line-through;
        }
    </style>
</head>
<body>

<h1>Malla Curricular Interactiva - Enfermería</h1>

<div class="malla" id="mallaContainer"></div>

<script>
const malla = [
    { semestre: "Primer Semestre", ramos: [
        { id: "anatomia", nombre: "Anatomía General" },
        { id: "biologia", nombre: "Biología e Histología" },
        { id: "quimica", nombre: "Química General y Orgánica" },
        { id: "introEnf", nombre: "Introducción a la Enfermería" },
        { id: "basesSocio", nombre: "Base Socioculturales" },
        { id: "tecnologia", nombre: "Tecnología e Innovación" }
    ] },
    { semestre: "Segundo Semestre", ramos: [
        { id: "primerosAux", nombre: "Primeros Auxilios" },
        { id: "psicologia", nombre: "Psicología General y del Desarrollo" },
        { id: "bioquimica", nombre: "Bioquímica", prereq: ["quimica"] },
        { id: "cicloVital", nombre: "Enfermería en el Ciclo Vital", prereq: ["introEnf"] },
        { id: "microParasit", nombre: "Microbiología y Parasitología", prereq: ["biologia"] },
        { id: "inglesBasico", nombre: "Inglés Básico" }
    ] },
    { semestre: "Tercer Semestre", ramos: [
        { id: "fisiologia", nombre: "Fisiología General", prereq: ["anatomia", "biologia"] },
        { id: "enfComunidad", nombre: "Enfermería y Comunidad", prereq: ["cicloVital"] },
        { id: "saludPublica", nombre: "Salud Pública y Epidemiológica" },
        { id: "educacionPromocion", nombre: "Educación y Promoción de la Salud", prereq: ["basesSocio", "psicologia"] },
        { id: "fundamentos", nombre: "Fundamentos de Enfermería Básica", prereq: ["cicloVital"] },
        { id: "habilidadesCom", nombre: "Habilidades Comunicacionales en Enfermería" }
    ] }
        { semestre: "Cuarto Semestre", ramos: [
        { id: "enfComunidad2", nombre: "Enfermería y Comunidad 2", prereq: ["enfComunidad", "educacionPromocion"] },
        { id: "bioestadistica", nombre: "Bioestadística" },
        { id: "enfBasicaAplicada", nombre: "Enfermería Básica Aplicada", prereq: ["basesSocio", "fundamentos", "introEnf", "cicloVital", "microParasit", "enfComunidad", "educacionPromocion", "habilidadesCom", "primerosAux", "psicologia", "saludPublica", "anatomia"] },
        { id: "fisiopatologia", nombre: "Fisiopatología", prereq: ["fisiologia"] },
        { id: "farmacologia", nombre: "Farmacología", prereq: ["bioquimica", "fisiologia"] }
    ] },
    { semestre: "Quinto Semestre", ramos: [
        { id: "etica", nombre: "Ética en Enfermería" },
        { id: "enfMedicoQuirurgico", nombre: "Enfermería Médico Quirúrgico", prereq: ["enfBasicaAplicada", "fisiopatologia", "farmacologia"] },
        { id: "enfSaludMental", nombre: "Enfermería en Salud Mental y Psiquiátrica", prereq: ["enfBasicaAplicada", "farmacologia"] },
        { id: "enfComunidad3", nombre: "Enfermería y Comunidad 3", prereq: ["enfComunidad2"] },
        { id: "medicinasComplementarias", nombre: "Enfermería Medicinas Complementarias" },
        { id: "metodologia1", nombre: "Metodología de la Investigación 1", prereq: ["bioestadistica"] },
        { id: "desarrolloSostenible", nombre: "Desarrollo Sostenible" }
    ] },
    { semestre: "Sexto Semestre", ramos: [
        { id: "gestionSaludMental", nombre: "Gestión del Cuidado en Salud Mental", prereq: ["enfSaludMental", "enfComunidad3"] },
        { id: "gestionComunidad", nombre: "Gestión del Cuidado en la Comunidad", prereq: ["enfMedicoQuirurgico", "enfComunidad3"] },
        { id: "gestionMedicoQuirurgico", nombre: "Gestión del Cuidado Médico Quirúrgico", prereq: ["etica", "enfMedicoQuirurgico"] },
        { id: "gerontogeriatria", nombre: "Enfermería Gerontogeriátrica", prereq: ["etica", "enfComunidad3"] },
        { id: "gestionEnf1", nombre: "Gestión en Enfermería 1", prereq: ["enfBasicaAplicada", "bioestadistica"] },
        { id: "metodologia2", nombre: "Metodología de la Investigación 2", prereq: ["metodologia1"] },
        { id: "inglesTecnico", nombre: "Inglés Técnico" }
    ] },
    { semestre: "Séptimo Semestre", ramos: [
        { id: "enfPediatrica", nombre: "Enfermería Pediátrica y Neonatología", prereq: ["gestionComunidad", "gestionMedicoQuirurgico"] },
        { id: "enfMujer", nombre: "Enfermería de la Mujer", prereq: ["gestionComunidad", "gestionMedicoQuirurgico"] },
        { id: "enfUrgencia", nombre: "Enfermería en Urgencia", prereq: ["gerontogeriatria", "gestionMedicoQuirurgico"] },
        { id: "gestionGerontogeriatria", nombre: "Gestión del Cuidado en Gerontogeriatría", prereq: ["gerontogeriatria", "gestionComunidad", "gestionMedicoQuirurgico"] },
        { id: "gestionEnf2", nombre: "Gestión en Enfermería 2", prereq: ["gestionEnf1"] },
        { id: "seminario1", nombre: "Seminario de Tesis 1", prereq: ["metodologia2"] },
        { id: "responsabilidadSocial", nombre: "Responsabilidad Social y Emprendimiento" }
    ] },
    { semestre: "Octavo Semestre", ramos: [
        { id: "electivo", nombre: "Electivo de Formación Profesional" },
        { id: "legislacion", nombre: "Legislación en Salud", prereq: ["gestionEnf2"] },
        { id: "bioetica", nombre: "Bioética en Enfermería", prereq: ["gestionMedicoQuirurgico"] },
        { id: "gestionUrgencia", nombre: "Gestión del Cuidado en Urgencia", prereq: ["basesSocio", "fundamentos", "gerontogeriatria", "enfMujer", "gestionSaludMental", "introEnf", "cicloVital", "microParasit", "enfComunidad", "educacionPromocion", "habilidadesCom", "enfComunidad2"] },
        { id: "gestionPediatra", nombre: "Gestión del Cuidado Pediátrico", prereq: ["enfMujer", "enfPediatrica"] },
        { id: "seminario2", nombre: "Seminario de Tesis 2", prereq: ["seminario1"] },
        { id: "preparacionLaboral", nombre: "Preparación para la Vida Laboral" }
    ] },
    { semestre: "Noveno Semestre", ramos: [
        { id: "internadoComunitario", nombre: "Internado Comunitario", prereq: ["electivo", "bioetica", "gestionUrgencia", "gestionPediatra", "legislacion", "seminario2"] }
    ] },
    { semestre: "Décimo Semestre", ramos: [
        { id: "internadoIntrahospitalario", nombre: "Internado Intrahospitalario", prereq: ["electivo", "bioetica", "gestionUrgencia", "gestionPediatra", "legislacion", "seminario2"] }
    ] }
];

let aprobados = new Set(JSON.parse(localStorage.getItem('mallaEnfermeriaAvance')) || []);

function renderMalla() {
    const container = document.getElementById('mallaContainer');
    container.innerHTML = '';

    malla.forEach(sem => {
        const semDiv = document.createElement('div');
        semDiv.className = 'semestre';
        const title = document.createElement('h3');
        title.textContent = sem.semestre;
        semDiv.appendChild(title);

        sem.ramos.forEach(ramo => {
            const ramoDiv = document.createElement('div');
            ramoDiv.className = 'ramo';
            ramoDiv.textContent = ramo.nombre;

            const habilitado = !ramo.prereq || ramo.prereq.every(id => aprobados.has(id));

            if (!habilitado && !aprobados.has(ramo.id)) {
                ramoDiv.style.opacity = 0.4;
                ramoDiv.style.pointerEvents = 'none';
            }

            if (aprobados.has(ramo.id)) {
                ramoDiv.classList.add('aprobado');
            }

            ramoDiv.onclick = () => {
                if (aprobados.has(ramo.id)) {
                    aprobados.delete(ramo.id);
                } else {
                    aprobados.add(ramo.id);
                }
                localStorage.setItem('mallaEnfermeriaAvance', JSON.stringify([...aprobados]));
                renderMalla();
            };

            semDiv.appendChild(ramoDiv);
        });

        container.appendChild(semDiv);
    });
}

renderMalla();
</script></body>
</html>
