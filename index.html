<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Malla Curricular Enfermería</title>
    <style>
        body {
            font-family: Arial, Abscissa;
            background-color: #fff0f5;
            margin: 0;
            padding: 0;
        }
        h1 {
            text-align: center;
            color: #ff69b4;
            padding: 10px 0;
        }
        .malla-container {
            display: flex;
            flex-direction: row;
            align-items: flex-start;
            overflow-x: auto;
            gap: 20px;
            padding: 20px;
        }
        .semestre {
            background-color: #ffe4f2;
            border-radius: 12px;
            padding: 15px;
            min-width: 200px;
            max-width: 220px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .semestre h3 {
            text-align: center;
            color: #ff69b4;
        }
        .ramo {
            background-color: #fff;
            border: 2px solid #ff69b4;
            border-radius: 8px;
            padding: 10px;
            margin-bottom: 10px;
            cursor: pointer;
            text-align: center;
            user-select: none;
        }
        .ramo.aprobado {
            background-color: #ffb6c1;
            color: white;
        }
    </style>
</head>
<body>
    <h1>Malla Curricular Enfermería</h1>
    <div class="malla-container" id="malla"></div>

    <script>
        const ramos = {
            'Primer Semestre': [
                { nombre: 'Anatomía General' },
                { nombre: 'Biología e Histología' },
                { nombre: 'Química General y Orgánica' },
                { nombre: 'Introducción a la Enfermería' },
                { nombre: 'Base Socioculturales' },
                { nombre: 'Tecnología e Innovación' }
            ],
            'Segundo Semestre': [
                { nombre: 'Primeros Auxilios' },
                { nombre: 'Psicología General y del Desarrollo' },
                { nombre: 'Bioquímica', prereq: ['Química General y Orgánica'] },
                { nombre: 'Enfermería en el Ciclo Vital', prereq: ['Introducción a la Enfermería'] },
                { nombre: 'Integrado en Microbiología y Parasitología', prereq: ['Biología e Histología'] },
                { nombre: 'Inglés Básico' }
            ],
            'Tercer Semestre': [
                { nombre: 'Fisiología General', prereq: ['Anatomía General', 'Biología e Histología'] },
                { nombre: 'Enfermería y Comunidad', prereq: ['Enfermería en el Ciclo Vital'] },
                { nombre: 'Salud Pública y Epidemiológica' },
                { nombre: 'Educación y Promoción de la Salud', prereq: ['Base Socioculturales', 'Psicología General y del Desarrollo'] },
                { nombre: 'Fundamentos de Enfermería Básica', prereq: ['Enfermería en el Ciclo Vital'] },
                { nombre: 'Habilidades Comunicacionales en Enfermería' }
            ],
            'Cuarto Semestre': [
                { nombre: 'Enfermería y Comunidad 2', prereq: ['Enfermería y Comunidad', 'Educación y Promoción de la Salud'] },
                { nombre: 'Bioestadística' },
                { nombre: 'Enfermería Básica Aplicada', prereq: ['Base Socioculturales', 'Fundamentos de Enfermería Básica', 'Introducción a la Enfermería', 'Enfermería en el Ciclo Vital', 'Integrado en Microbiología y Parasitología', 'Enfermería y Comunidad', 'Educación y Promoción de la Salud', 'Habilidades Comunicacionales en Enfermería', 'Primeros Auxilios', 'Psicología General y del Desarrollo', 'Salud Pública y Epidemiológica', 'Anatomía General'] },
                { nombre: 'Fisiopatología', prereq: ['Fisiología General'] },
                { nombre: 'Farmacología', prereq: ['Bioquímica', 'Fisiología General'] }
            ],
            'Quinto Semestre': [
                { nombre: 'Ética en Enfermería' },
                { nombre: 'Enfermería Médico Quirúrgico', prereq: ['Enfermería Básica Aplicada', 'Fisiopatología', 'Farmacología'] },
                { nombre: 'Enfermería en Salud Mental y Psiquiátrica', prereq: ['Enfermería Básica Aplicada', 'Farmacología'] },
                { nombre: 'Enfermería y Comunidad 3', prereq: ['Enfermería y Comunidad 2'] },
                { nombre: 'Enfermería Medicinas Complementarias y Prácticas en Bienestar en Salud' },
                { nombre: 'Metodología de la Investigación 1', prereq: ['Bioestadística'] },
                { nombre: 'Desarrollo Sostenible' }
            ],
            'Sexto Semestre': [
                { nombre: 'Gestión del Cuidado Enfermero en Salud Mental y Psiquiátrica', prereq: ['Enfermería en Salud Mental y Psiquiátrica', 'Enfermería y Comunidad 3'] },
                { nombre: 'Gestión del Cuidado Enfermero en la Comunidad', prereq: ['Enfermería Médico Quirúrgico', 'Enfermería y Comunidad 3'] },
                { nombre: 'Gestión del Cuidado Enfermero Médico Quirúrgico', prereq: ['Ética en Enfermería', 'Enfermería Médico Quirúrgico'] },
                { nombre: 'Enfermería Gerontogeriátrica', prereq: ['Ética en Enfermería', 'Enfermería y Comunidad 3'] },
                { nombre: 'Gestión en Enfermería 1', prereq: ['Enfermería Básica Aplicada', 'Bioestadística'] },
                { nombre: 'Metodología de la Investigación 2', prereq: ['Metodología de la Investigación 1'] },
                { nombre: 'Inglés Técnico' }
            ],
            'Séptimo Semestre': [
                { nombre: 'Enfermería Pediátrica y Neonatología', prereq: ['Gestión del Cuidado Enfermero en la Comunidad', 'Gestión del Cuidado Enfermero Médico Quirúrgico'] },
                { nombre: 'Enfermería de la Mujer', prereq: ['Gestión del Cuidado Enfermero en la Comunidad', 'Gestión del Cuidado Enfermero Médico Quirúrgico'] },
                { nombre: 'Enfermería en Urgencia', prereq: ['Enfermería Gerontogeriátrica', 'Gestión del Cuidado Enfermero Médico Quirúrgico'] },
                { nombre: 'Gestión del Cuidado Enfermero Gerontogeriatría', prereq: ['Enfermería Gerontogeriátrica', 'Gestión del Cuidado Enfermero en la Comunidad', 'Gestión del Cuidado Enfermero Médico Quirúrgico'] },
                { nombre: 'Gestión en Enfermería 2', prereq: ['Gestión en Enfermería 1'] },
                { nombre: 'Seminario de Tesis 1', prereq: ['Metodología de la Investigación 2'] },
                { nombre: 'Responsabilidad Social y Emprendimiento' }
            ],
            'Octavo Semestre': [
                { nombre: 'Electivo de Formación Profesional' },
                { nombre: 'Legislación en Salud', prereq: ['Gestión en Enfermería 2'] },
                { nombre: 'Bioética en Enfermería', prereq: ['Gestión del Cuidado Enfermero Médico Quirúrgico'] },
                { nombre: 'Gestión del Cuidado en Urgencia', prereq: ['Base Socioculturales', 'Fundamentos de Enfermería Básica', 'Enfermería Gerontogeriátrica', 'Enfermería de la Mujer', 'Gestión del Cuidado Enfermero en Salud Mental y Psiquiátrica', 'Introducción a la Enfermería', 'Enfermería en el Ciclo Vital', 'Integrado en Microbiología y Parasitología', 'Enfermería y Comunidad', 'Educación y Promoción de la Salud', 'Habilidades Comunicacionales en Enfermería', 'Enfermería y Comunidad 2'] },
                { nombre: 'Gestión del Cuidado Enfermero del Pediatra', prereq: ['Enfermería de la Mujer', 'Enfermería Pediátrica y Neonatología'] },
                { nombre: 'Seminario de Tesis 2', prereq: ['Seminario de Tesis 1'] },
                { nombre: 'Preparación para la Vida Laboral' }
            ],
            'Noveno Semestre': [
                { nombre: 'Internado Comunitario', prereq: ['Electivo de Formación Profesional', 'Bioética en Enfermería', 'Gestión del Cuidado en Urgencia', 'Gestión del Cuidado Enfermero del Pediatra', 'Legislación en Salud', 'Seminario de Tesis 2'] }
            ],
            'Décimo Semestre': [
                { nombre: 'Internado Intrahospitalario', prereq: ['Electivo de Formación Profesional', 'Bioética en Enfermería', 'Gestión del Cuidado en Urgencia', 'Gestión del Cuidado Enfermero del Pediatra', 'Legislación en Salud', 'Seminario de Tesis 2'] }
            ]
        };

        let aprobados = new Set(JSON.parse(localStorage.getItem('mallaEnfermeriaAvance')) || []);

function renderMalla() {
    const container = document.getElementById('mallaContainer');
    container.innerHTML = '';

    malla.forEach(sem => {
        const semDiv = document.createElement('div');
        semDiv.className = 'semestre';
        const title = document.createElement('h3');
        title.textContent = sem.semestre;
        semDiv.appendChild(title);

        sem.ramos.forEach(ramo => {
            const ramoDiv = document.createElement('div');
            ramoDiv.className = 'ramo';
            ramoDiv.textContent = ramo.nombre;

            const habilitado = !ramo.prereq || ramo.prereq.every(id => aprobados.has(id));

            if (!habilitado && !aprobados.has(ramo.id)) {
                ramoDiv.style.opacity = 0.4;
                ramoDiv.style.pointerEvents = 'none';
            }

            if (aprobados.has(ramo.id)) {
                ramoDiv.classList.add('aprobado');
            }

            ramoDiv.onclick = () => {
                if (aprobados.has(ramo.id)) {
                    aprobados.delete(ramo.id);
                } else {
                    aprobados.add(ramo.id);
                }
                localStorage.setItem('mallaEnfermeriaAvance', JSON.stringify([...aprobados]));  // GUARDADO AUTOMÁTICO
                renderMalla();
            };

            semDiv.appendChild(ramoDiv);
        });

        container.appendChild(semDiv);
    });
}

renderMalla();
</script>
